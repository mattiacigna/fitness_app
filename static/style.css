:root{
  --bg:#ffffff; --text:#111827; --muted:#6b7280;
  --primary:#22c55e; --primary-600:#16a34a; --card:#f8fafc; --border:#e5e7eb;
  --radius:16px;
}
*{box-sizing:border-box} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;color:var(--text);background:var(--bg)}
.topbar{position:sticky;top:0;background:#fff;border-bottom:1px solid var(--border);padding:12px 16px;display:flex;align-items:center;gap:12px;z-index:5}
.topbar h1{font-size:18px;margin:0}
.topbar nav{display:flex;gap:10px;flex-wrap:wrap}
.topbar a{display:inline-flex;align-items:center;gap:6px;padding:8px 12px;border-radius:999px;border:1px solid var(--border);text-decoration:none;color:var(--text)}
.topbar a:hover{border-color:var(--primary);color:var(--primary)}
.container{max-width:1000px;margin:18px auto;padding:0 14px}
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:14px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
.badge{display:inline-block;background:var(--primary);color:#fff;padding:2px 10px;border-radius:999px;font-size:14px}

.btn{border:1px solid var(--primary);background:var(--primary);color:#fff;border-radius:10px;padding:8px 12px;cursor:pointer}
.btn:hover{background:var(--primary-600);border-color:var(--primary-600)}
.btn.btn-danger{background:#ef4444;border-color:#ef4444}
.btn.btn-danger:hover{background:#dc2626;border-color:#dc2626}

.table{width:100%;border-collapse:collapse}
.table th,.table td{border:1px solid var(--border);padding:8px;text-align:left}
.table th{background:#fff}

.list{list-style:none;padding:0;margin:0}
.list li{padding:10px 12px;border:1px solid var(--border);border-radius:12px;margin-bottom:8px;background:#fff}

label{display:flex;flex-direction:column;font-size:14px;gap:6px}
input,select,textarea{padding:8px;border:1px solid var(--border);border-radius:10px;background:#fff}
textarea{resize:vertical}
small.muted{color:var(--muted)}

/* Switch */
.switch{position:relative;display:inline-flex;align-items:center;gap:8px}
.switch input{display:none}
.switch .slider{position:relative;width:44px;height:24px;background:#e5e7eb;border-radius:999px;transition:.2s}
.switch .slider::after{content:"";position:absolute;top:3px;left:3px;width:18px;height:18px;background:#fff;border-radius:50%;transition:.2s;border:1px solid var(--border)}
.switch input:checked + .slider{background:var(--primary)}
.switch input:checked + .slider::after{transform:translateX(20px)}
.switch .switch-label{font-size:14px}
/* ---- Mobile UX helpers ---- */
.sticky-nav{position:sticky; top:56px; z-index:4}
.chiprow{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.chip{border:1px solid var(--border);background:#fff;border-radius:999px;padding:6px 10px;cursor:pointer}
.chip.primary{border-color:var(--primary);background:var(--primary);color:#fff}

.tabs{display:flex;gap:8px;flex-wrap:wrap}
.tab{border:1px solid var(--border);background:#fff;border-radius:999px;padding:8px 12px;cursor:pointer}
.tab.active{background:var(--primary);border-color:var(--primary);color:#fff}
.tabpane{display:none}
.tabpane.show{display:block}

.excard .exhead{display:flex;align-items:center;gap:10px;justify-content:space-between}
.exname{font-weight:600;flex:1}
.switch.small .slider{width:36px;height:20px}
.switch.small .slider::after{width:16px;height:16px}
.switch.m-0{margin:0}

.setbox summary{cursor:pointer;font-weight:600}
.setgrid{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin:8px 0}
.setlist{display:flex;flex-direction:column;gap:6px;margin-bottom:6px}
.setrow{display:flex;gap:10px;align-items:center}
.setrow label{flex-direction:row;align-items:center;gap:6px;margin:0}
.setidx{width:20px;text-align:center;color:var(--muted)}

.diffrow{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin-top:8px}
.diffrow.compact{gap:8px}
.diff{display:flex;align-items:center;gap:6px}
.dot{display:inline-block;width:10px;height:10px;border-radius:50%}
.dot.green{background:#16a34a}
.dot.yellow{background:#f59e0b}
.dot.red{background:#ef4444}

.catname{font-weight:700}
.card.inner{background:#fff}

/* sticky save bottom */
.sticky-footer{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid var(--border);padding:10px 14px;display:flex;justify-content:center;z-index:10}
.btn.big{font-size:16px;padding:12px 18px;border-radius:12px}

/* tighter on small screens */
@media (max-width: 520px){
  .grid{grid-template-columns:1fr}
  .exhead{gap:8px}
  .setrow{justify-content:space-between}
}
/* Mini-grid 2 colonne */
.grid.two{grid-template-columns:repeat(2,minmax(0,1fr))}

/* Galleria foto */
.thumbs{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px}
.thumb{display:flex;flex-direction:column;gap:4px;text-decoration:none;color:inherit}
.thumb img{width:100%;aspect-ratio:1/1;object-fit:cover;border-radius:12px;border:1px solid var(--border)}
.thumb small{color:var(--muted);text-align:center}

/* Gauge fluido */
.fluid-wrap{display:flex;justify-content:center;margin-top:12px}
.fluid-gauge{
  --fill: 0%;
  width: 180px; height: 180px; border-radius: 50%;
  position: relative; overflow: hidden;
  border: 2px solid var(--border); background: #fff;
}
.fluid-gauge .label{
  position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
  font-weight:700; font-size:24px; color:#0a0a0a; mix-blend-mode:normal;
}
.fluid-gauge .wave{
  position:absolute; left:0; right:0; bottom: calc(-100% + var(--fill));
  height: 200%; background:
    radial-gradient(50% 60% at 50% 38%, rgba(0,0,0,0.08) 0 60%, transparent 61%) repeat-x,
    linear-gradient(180deg, rgba(16,185,129,0.90), rgba(16,185,129,0.70));
  background-size: 40px 40px, 100% 100%;
  transform: translateX(0);
}
.fluid-gauge.animate .wave{
  animation: waveMove 4s linear infinite;
}
@keyframes waveMove{
  from{ transform: translateX(0) }
  to{ transform: translateX(-40px) }
}

/* Responsive tweaks */
@media (max-width:520px){
  .fluid-gauge{width:150px;height:150px}
  .fluid-gauge .label{font-size:20px}
}
